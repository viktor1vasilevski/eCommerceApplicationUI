<div class="container py-5">

    <div *ngIf="isLoading" class="page-spinner">
        <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
    </div>

    <div class="row align-items-center">
        <!-- Left Side: Image -->
        <div class="col-md-6 d-none d-md-block">
            <img src="../../../../assets/images/register-image.jpg" alt="Register" class="img-fluid" />
        </div>

        <!-- Right Side: Register Form -->
        <div class="col-md-6">
            <div class="card shadow-lg border-0 rounded-4">
                <div class="card-body p-5">
                    <h3 class="text-center mb-4 text-primary fw-bold">Create Your Account</h3>
                    <p class="text-center text-muted mb-4">Fill in the details below to register</p>

                    <form [formGroup]="registerForm" (ngSubmit)="onRegister()">
                        <div class="row">
                            <!-- Left Column -->
                            <div class="col-md-6">
                                <div class="form-group mb-3">
                                    <label for="firstName" class="form-label fw-semibold">First Name</label>
                                    <input type="text" id="firstName" class="form-control rounded-3"
                                        formControlName="firstName" placeholder="Enter your first name" />
                                    <div *ngIf="registerForm.get('firstName')?.invalid && registerForm.get('firstName')?.touched"
                                        class="text-danger mt-1">
                                        <small *ngIf="registerForm.get('firstName')?.errors?.['required']">First name is
                                            required.</small>
                                        <small *ngIf="registerForm.get('firstName')?.errors?.['minlength']">First name
                                            must be at least 3 characters.</small>
                                    </div>
                                </div>



                                <div class="form-group mb-3">
                                    <label for="username" class="form-label fw-semibold">Username</label>
                                    <input type="text" id="username" class="form-control rounded-3"
                                        formControlName="username" placeholder="Choose a username" />
                                    <div *ngIf="registerForm.get('username')?.invalid && registerForm.get('username')?.touched"
                                        class="text-danger mt-1">
                                        <small *ngIf="registerForm.get('username')?.errors?.['required']">Username is
                                            required.</small>
                                        <small *ngIf="registerForm.get('username')?.errors?.['minlength']">Username must
                                            be at least 5 characters.</small>
                                    </div>
                                </div>

                                <div class="form-group mb-3">
                                    <label for="email" class="form-label fw-semibold">Email</label>
                                    <input type="email" id="email" class="form-control rounded-3"
                                        formControlName="email" placeholder="Enter your email" />
                                    <div *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched"
                                        class="text-danger mt-1">
                                        <small *ngIf="registerForm.get('email')?.errors?.['required']">Email is
                                            required.</small>
                                        <small *ngIf="registerForm.get('email')?.errors?.['pattern']">Invalid email
                                            format.</small>
                                    </div>
                                </div>
                            </div>

                            <!-- Right Column -->
                            <div class="col-md-6">
                                <div class="form-group mb-3">
                                    <label for="lastName" class="form-label fw-semibold">Last Name</label>
                                    <input type="text" id="lastName" class="form-control rounded-3"
                                        formControlName="lastName" placeholder="Enter your last name" />
                                    <div *ngIf="registerForm.get('lastName')?.invalid && registerForm.get('lastName')?.touched"
                                        class="text-danger mt-1">
                                        <small *ngIf="registerForm.get('lastName')?.errors?.['required']">Last name is
                                            required.</small>
                                        <small *ngIf="registerForm.get('lastName')?.errors?.['minlength']">Last name
                                            must be at least 3 characters.</small>
                                    </div>
                                </div>

                                <div class="form-group mb-3">
                                    <label for="password" class="form-label fw-semibold">Password</label>
                                    <input type="password" id="password" class="form-control rounded-3"
                                        formControlName="password" placeholder="Create a password" />
                                    <div *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched"
                                        class="text-danger mt-1">
                                        <small *ngIf="registerForm.get('password')?.errors?.['required']">Password is
                                            required.</small>
                                        <small *ngIf="registerForm.get('password')?.errors?.['pattern']">
                                            Password must include an uppercase letter, lowercase letter, number, and
                                            special character.
                                        </small>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <button type="submit" class="btn btn-primary w-100 rounded-3 fw-bold"
                            [disabled]="registerForm.invalid">
                            Register
                        </button>
                    </form>

                    <div class="text-center mt-3">
                        <p class="mb-0">Already have an account?
                            <a routerLink="/login" class="text-primary fw-semibold">Login</a>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>